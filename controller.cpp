#include "controller.h"


void Controller::mouseMoveEvent (QMouseEvent* ev)
{


    if ((ev->x()-100.5-440)*(ev->x()-100.5-440)+(ev->y()-100.5-510)*(ev->y()-100.5-510)>=380*380)
    {

    }
    else
    {
        ui->label_3->setGeometry(QRect(ev->x()-100.5,ev->y()-100.5,201,201));

       // qDebug() << "X: " << ev->x() << "Y: " << ev->y();

            if( ev->x()>=435 && ev->x()<=645 && ev->y()<=505 &&
              (ev->x()-100.5-440)*(ev->x()-100.5-440)+(ev->y()-100.5-510)*(ev->y()-100.5-510)<380*380  )
            {
                qDebug() << "Do przodu";
            }
            else if ( ev->x()>=645 && ev->y()<=505 &&
                    (ev->x()-100.5-440)*(ev->x()-100.5-440)+(ev->y()-100.5-510)*(ev->y()-100.5-510)<380*380  )
            {
                qDebug() << "Przod - prawo";
            }
            else if ( ev->x()>=645 && ev->y()>=505 && ev->y()<=715 &&
                    (ev->x()-100.5-440)*(ev->x()-100.5-440)+(ev->y()-100.5-510)*(ev->y()-100.5-510)<380*380  )
            {
                qDebug() << "W Prawo";
            }
            else if ( ev->x()>=645 && ev->y()>=715 &&
                    (ev->x()-100.5-440)*(ev->x()-100.5-440)+(ev->y()-100.5-510)*(ev->y()-100.5-510)<380*380  )
            {
                qDebug() << "Tyl - prawo";
            }
            else if( ev->x()>=435 && ev->x()<=645 && ev->y()>=715 &&
                   (ev->x()-100.5-440)*(ev->x()-100.5-440)+(ev->y()-100.5-510)*(ev->y()-100.5-510)<380*380  )
            {
                qDebug() << "Do tylu";
            }
            else if ( ev->x()<=435 && ev->y()>=715 &&
                    (ev->x()-100.5-440)*(ev->x()-100.5-440)+(ev->y()-100.5-510)*(ev->y()-100.5-510)<380*380  )
            {
                qDebug() << "Tyl - Lewo";
            }
            else if ( ev->x()<=435 && ev->y()>=505 && ev->y()<=715 &&
                    (ev->x()-100.5-440)*(ev->x()-100.5-440)+(ev->y()-100.5-510)*(ev->y()-100.5-510)<380*380  )
            {
                qDebug() << "W Lewo";
            }
            else if ( ev->x()<=435 && ev->y()<=505 &&
                    (ev->x()-100.5-440)*(ev->x()-100.5-440)+(ev->y()-100.5-510)*(ev->y()-100.5-510)<380*380  )
            {
                qDebug() << "Przod - Lewo";
            }
            else
            {
               qDebug() << "Stop";
            }
       }

    if ((ev->x()-100.5-440)*(ev->x()-100.5-440)+(ev->y()-100.5-510)*(ev->y()-100.5-510)<=380*380 &&
        (ev->x()-100.5-440)*(ev->x()-100.5-440)+(ev->y()-100.5-510)*(ev->y()-100.5-510)>=100*100  )
    {
        pwm = sqrt( (ev->x()-100.5-440)*(ev->x()-100.5-440)+(ev->y()-100.5-510)*(ev->y()-100.5-510) );
        qDebug() << "PWM :   " << pwm;
    }
    else
    {
        pwm = 0;
    }


}

void Controller::mouseReleaseEvent(QMouseEvent* ev)
{
    ui->label_3->setGeometry(QRect(440,510,201,201));
    pwm = 0;
}
